$.fn.fullCircleProgress=function(e){function l(){for(var e=0;e<n.levels;e++)$(i).find("[level="+(e+1)+"]").css(e<n.level?r:o)}function t(e){return e*(Math.PI/180)}var i=this,n={};$.extend(n,e);var r,o,s,a=!0,v='<svg width="'+n.side+'" height="'+n.side+'">',c=n.side/2,d=360-(360/n.levels+360-90)%360,h={x:c+c*Math.abs(Math.cos(t(d))),y:c+c*Math.sin(t(d))*-1};if(null!=n.linked&&(a=n.linked),null!=n.backgroundImage){var f='<defs><pattern id="bgImageFCP" patternUnits="userSpaceOnUse" width="'+n.side+'" height="'+n.side+'"><image xlink:href="'+n.backgroundImage+'" x="0" y="0" width="'+n.side+'" height="'+n.side+'" /></pattern></defs>';v+=f,v+='<circle cx="'+c+'" cy="'+c+'" r="'+c+'" fill="url(#bgImageFCP)" />'}for(var u=0;u<n.levels;u++){var g="#000";null!=n.colors?g=u<n.colors.length?n.colors[u]:null!=n.alternativeColor?n.alternativeColor:n.colors[0]:null!=n.alternativeColor&&(g=n.alternativeColor);var y='<g level="'+(u+1)+'" transform="rotate('+360*u/n.levels+","+c+","+c+')">',p='<path style="fill:'+g+'" d="M '+c+" "+c+" L "+c+" 0 A "+n.side/2+" "+n.side/2+" 0 0 1 "+h.x+" "+h.y+' Z"/>';y+=p,y+="</g>",v+=y}v+="</svg>",$(i).append(v),r=null!=n.achievedStyle?n.achievedStyle:{opacity:"1"},o=null!=n.leftStyle?n.leftStyle:{opacity:"0.3"},s=null!=n.hoverStyle?n.hoverStyle:{opacity:"0.8"},l(),null!=n.onClick&&$(i).find("g").click(function(){n.onClick($(this).attr("level"))}),null!=n.onHover&&$(i).find("g").hover(function(){n.onHover[0]($(this).attr("level"))},function(){n.onHover[1]($(this).attr("level"))}),(null!=n.onHover||null!=n.onClick)&&($(i).find("g").css("cursor","pointer"),$(i).find("g").hover(function(){var e=parseInt($(this).attr("level"));if(a)for(var l=0;e>l;l++)$(i).find("[level="+(l+1)+"]").css(s);else $(this).css(s)},function(){a?l():$(this).css($(this).attr("level")<=n.level?r:o)}))};
